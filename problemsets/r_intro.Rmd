#############################################################
# Problemset r_intro
#############################################################

```{r include=FALSE}

#  1. Download from Moodle, open with RStudio and run 'install packages.r'
#  2. Copy this file 'r_intro.Rmd' and the file 'r_intro.rps' into a folder, you want to use for your problem sets
#  3. Set this folder and your user name below and proceed as explained to solve the problem set.
#  4. Note you can type stats() in the R console to see how much you have already solved.
#  5. When finished, upload your solution to Moodle as explained at the bottom of this problem set.


# To check your solutions in RStudio save (Ctrl-S) and then run all chunks (Ctrl-Alt-R)

ps.dir =  'D:/libraries/RTutor/problemsets/intro' # the folder in which this file is stored
ps.file = 'r_intro.Rmd' # this file
user.name = 'ENTER A USER NAME HERE' # your user name


library(RTutor)
check.problem.set('r_intro', ps.dir, ps.file, user.name=user.name, reset=FALSE)

```{r include=TRUE}

cat('Name: ', user.name)
```

## Exercise 1 R as calculator ###########################

a) Compute 123 + 257 by typing it below as R code. To run the code in your R console, go to the line with your text cursor and press Ctrl-Enter.

```{r }
# enter your code here ...
```

b) The command

```{r }
x = 4
```

assigns the value 4 to the **variable** x.

Assign the value 8 to the variable y

```{r }
# enter your code here ...
```

c) We can now calculate with these variables. Compute the product of x and y

```{r }
# enter your code here ...
```

## Exercise 2 Calculating with vectors ###########################

a) A nice feature of R is that you can also directly calculate with vectors.
The following command creates a vector of 3 numbers

```{r }
c(4,2,73)  
```

b) Save in the variable u a vector of 4 different numbers

```{r }
# enter your code here ...
```

c) Add the command 3*u

```{r }
# enter your code here ...
```

The command simply multiples each element of u by 3.

d) Add 100 to each element of u

```{r }
# enter your code here ...
```

e) Generate another vector v of 4 different numbers and compute the sum of u and v

```{r }
# enter your code here ...
```

f) Find out what the command u*v computes. Is it the scalar product of u and v, the outer product or the element-wise product?

```{r }
# Write down as answer "scalar product", "outer product", or "element-wise product"

# enter your code here ...
```

## Exercise 3 Combining vectors ###########################

a) Consider the following commands that generate vectors

```{r }
x = 2:4
x
c(x, 10:13)
seq(5,7,by=0.5)
```

By looking at the resulting vectors can you guess what the commands a:b, c and seq do? You can also use the R-help by pressing F1 when your text-input cursor is on the command name. 

b) Using : create a vector that contains all integer numbers between 10 und 20, i.e. 10, 11, 12, ..., 19, 20.

```{r }
# enter your code here ...
```

c) Let y be a vector that contains all numbers between 0 and 1 with step size 0.01, i.e. 0, 0.01, 0.02, ..., 0.99, 1. Then show y.

```{r }
# enter your code here ...
```

d) Let 'b' be a variable that contains all integer numbers from 0 to 10 and from 50 to 60 but not the numbers inbetween. Show b.

```{r }
# enter your code here ...
```

e) Let z be a variable that shows the first 100 square numbers, i.e. 1,2,4,9,... Then show z

```{r }
# enter your code here ...
```

## Exercise 4 Summary functions ###########################

a) We often want to compute some summary statistics of a vector. For example:

```{r }
x = 10:20
x
# Compute the sum of x
sum(x)
```

b) Compute the mean of x.

```{r }
# enter your code here ...
```

c) Compute the standard deviation of x.

```{r }
# enter your code here ...
```

d) Find the maximum value of all elements in x.

```{r }
# enter your code here ...
```

e) Find the minimum value of all elements in x.

```{r }
# enter your code here ...
```

f) Find the index of the element with the maximum value of all elements in x.

```{r }
# enter your code here ...
```

## Exercise 5 Indexing ###########################

a) The following command draws from the set of integer numbers between 1 and 1000, 10 random elements without replacement and stores them in x

```{r }
x = ((1:19)-10)^2
x
```

We can simply show a plot of x by typing

```{r }
plot(x)
```

b) If we want to access the 3rd element of x, we  type

```{r }
x[3]
```

We can get a subvector of the elements 5,6,7 by typing

```{r }
x[5:7]
```

c) Show the 9nth element of x

```{r }
# enter your code here ...
```

d) Save in the variable z the elements 15,16,17,18 of x and show z

```{r }
# enter your code here ...
```

e) Store in y the elements 4,2,9 (in this order) of x and show y

```{r }
# enter your code here ...
```

## Exercise 6 logical operations ###########################

a) R has logical values TRUE or FALSE

```{r }
# Comparisons yield TRUE or FALSE
5 > 3
1 == 2 # == checks equality

x = 10 # = assigns a value
x < 3
```

The operator & is a logical AND. It returns TRUE if BOTH conditions are TRUE

```{r }
5 > 3 & x==2 
1+2 == 3 & 100 / 10 == x
```

The operator | is a logical OR. It returns TRUE if at least ONE of the two conditions is TRUE

```{r }
5 > 3 | x==2 
1+2 == 3 | 100 / 10 == x
1+1 == 3 | 2+2 == 5
```

We can apply comparisons and logical operators also on vectors of the same length, which are then performed elementwise. We get a logical vector that contains TRUE and FALSE for each element of the vector

```{r }
y = 10:20
y > 15
y %% 2 == 0 # is TRUE for those elements of y that are an even number
```


b) Return a logical vector that returns a TRUE for all elements of y that are <= 14.

```{r }
# enter your code here ...
```

c) Return a logical vector that returns a TRUE for all elements of y that are smaller equal 14 or bigger equal 18

```{r }
# enter your code here ...
```

d) Return a logical vector that returns a TRUE for all elements of y that are between 15 and 19 (including 15 and 19)

```{r }
# enter your code here ...
```

e) We can use logical vectors to index vectors. For example, to get all values of y that are strictly above 15, we can type

```{r }
y[y>15]
```

f) Show all values of y that are strictly below 13

```{r }
# enter your code here ...
```

g) Show all values of y that are between 14 and 18

```{r }
# enter your code here ...
```

h) Note that we can also store a logical vector in a variable

```{r }
ind = y >=18
ind
y[ind]
```

the function which gets the index of all elements in which a logical vector is TRUE

```{r }
which(ind)
```

## Exercise 7 lists ###########################

Besides vectors we often encounter in R the following objects: list, data.frame and matrix. Let us briefly get used to lists here.

a) A list is a very flexible container that can contain variables of different kinds, like numbers, characters, vectors or lists itself

```{r }
x = list(a="Hi",b=1:3,c=list(y=3,z=4))
x
```

The elements of list often have a name. We can access an element of the list by its name or index in several ways:

```{r }
x[[1]]
x[["a"]]
x$a
```

b) Show the element b of x using the $ operator

```{r }
# enter your code here ...
```

c) Show the element c of x using its index, i.e. 3, and the [[...]] notation

```{r }
# enter your code here ...
```

d) We can also simply add or change elements of an list

```{r }
x$d = "New element" 
x
```

e) Add to x the element "e" with the value 100

```{r }
# enter your code here ...
```

f) Note: if we index elements of a list with the [...] notation, we get a sublist which is itself a list.

```{r }
x[[1]] # yields the element a of x
x[1] # yields a list with one element $a
x[1:2] # yields a list with elements $a and $b
```

## Exercise 8 data frames ###########################

a) A data frame is a list whose elements are vectors of the same length. A data frame is the common way to store data in R. 

```{r }
df = data.frame(a=5:7, b=4, c=c("A","B","C"), d = runif(3))
df
```

Note that b is automatically changed to a column of 3 times 4.

b) If we use the $ notation on a data.frame, we get the corresponding column. Show the column 'a' of df 

```{r }
# enter your code here ...
```

c) If we want to get the element in the 2nd row in column a of df, we can have 4 different ways:

```{r }
# Subset data.frame like lists
df$a[2]
df[["a"]][2]

# Subset data.frame like a matrix
df[2,"a"]
df[2,1]
```

d) Store in the variable x the rows 2 and 3 of column d in df and then show x

```{r }
# enter your code here ...
```

We will learn much more about data frames in later problem sets.
## Exercise 9 matrices ###########################

a) A matrix works for a user similar like a data frame, but all its columns must be the same type (usually numbers). Internally, a matrix is stored differently than a data frame and some sort of computations can be performed much quicker.

```{r }
m = matrix(1:6,nrow=3,ncol=2)
m
```

b) There are a lot of functions for matrices, e.g. taking the transpose

```{r }
t(m)
```

c) Similar as with vectors we can do a lot of element wise computations on matrices

```{r }
m * 3
```

d) Add the matrix m to m

```{r }
# enter your code here ...
```

e)

```{r }
m*m # elementwise multiplication
t(m) %*% m # matrix multiplication
```


We will learn more about computing with matrices in later problem sets.

## Submitting your solution

To submit your problem set first uncomment and run the following command:

```{r }
# zip.solution()
```

It generates a zip file containing your solution and log files that you can submit as solution.
Upload your zip file on Moodle here:
https://moodle.uni-ulm.de/mod/assign/view.php?id=18515
